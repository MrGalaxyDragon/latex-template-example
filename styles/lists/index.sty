\ProvidesPackage{styles/lists/index}

\RequirePackage{makeidx}

\NewDocumentCommand{\indexprint}{o m}{%
    \IfNoValueTF{#1}
    {%
        #2\index{#2}%
    }%
    {%
        #1\index{#2}%
    }%
}

\makeindex

\newif\ifindex

\let\oldindex\index
\renewcommand{\index}[1]{%
    \indextrue%
    \oldindex{#1}%
}